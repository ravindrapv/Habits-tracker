{"ast":null,"code":"import baseurl from\"./constants\";export default function fetchData(filter,activeIndex,fn,token,tag){var Tag=tag?tag:\"\";var Filter=filter?filter:\"\";fetch(\"\".concat(baseurl,\"/api/articles?\").concat(Tag,\"limit=5&offset=\").concat(activeIndex*10).concat(Filter),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",authorization:token}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();}).then(function(data){if(data.articles){fn(\"articles\",data.articles);fn(\"error\",null);}else{fn(\"error\",data);}}).catch(function(err){fn(\"error\",\"not able to fetch data\");});fetch(\"\".concat(baseurl,\"/api/articles?\").concat(Tag).concat(Filter)).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();}).then(function(articles){fn(\"articlesCount\",articles.articles.length);});}","map":{"version":3,"names":["baseurl","fetchData","filter","activeIndex","fn","token","tag","Tag","Filter","fetch","method","headers","authorization","then","res","ok","Error","statusText","json","data","articles","catch","err","length"],"sources":["/home/venkataravindrapv/blog-app-master/src/utils/fetchData.js"],"sourcesContent":["import baseurl from \"./constants\";\n\nexport default function fetchData(filter, activeIndex, fn, token, tag) {\n  let Tag = tag ? tag : \"\";\n  let Filter = filter ? filter : \"\";\n\n  fetch(\n    `${baseurl}/api/articles?${Tag}limit=5&offset=${activeIndex * 10}${Filter}`,\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: token,\n      },\n    }\n  )\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(res.statusText);\n      }\n      return res.json();\n    })\n    .then((data) => {\n      if (data.articles) {\n        fn(\"articles\", data.articles);\n        fn(\"error\", null);\n      } else {\n        fn(\"error\", data);\n      }\n    })\n    .catch((err) => {\n      fn(\"error\", \"not able to fetch data\");\n    });\n  fetch(`${baseurl}/api/articles?${Tag}${Filter}`)\n    .then((res) => {\n      if (!res.ok) {\n        throw new Error(res.statusText);\n      }\n      return res.json();\n    })\n    .then((articles) => {\n      fn(\"articlesCount\", articles.articles.length);\n    });\n}\n"],"mappings":"AAAA,MAAOA,QAAO,KAAM,aAAa,CAEjC,cAAe,SAASC,UAAS,CAACC,MAAM,CAAEC,WAAW,CAAEC,EAAE,CAAEC,KAAK,CAAEC,GAAG,CAAE,CACrE,GAAIC,IAAG,CAAGD,GAAG,CAAGA,GAAG,CAAG,EAAE,CACxB,GAAIE,OAAM,CAAGN,MAAM,CAAGA,MAAM,CAAG,EAAE,CAEjCO,KAAK,WACAT,OAAO,0BAAiBO,GAAG,2BAAkBJ,WAAW,CAAG,EAAE,SAAGK,MAAM,EACzE,CACEE,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,CAAEP,KACjB,CACF,CAAC,CACF,CACEQ,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,KAAM,IAAIC,MAAK,CAACF,GAAG,CAACG,UAAU,CAAC,CACjC,CACA,MAAOH,IAAG,CAACI,IAAI,EAAE,CACnB,CAAC,CAAC,CACDL,IAAI,CAAC,SAACM,IAAI,CAAK,CACd,GAAIA,IAAI,CAACC,QAAQ,CAAE,CACjBhB,EAAE,CAAC,UAAU,CAAEe,IAAI,CAACC,QAAQ,CAAC,CAC7BhB,EAAE,CAAC,OAAO,CAAE,IAAI,CAAC,CACnB,CAAC,IAAM,CACLA,EAAE,CAAC,OAAO,CAAEe,IAAI,CAAC,CACnB,CACF,CAAC,CAAC,CACDE,KAAK,CAAC,SAACC,GAAG,CAAK,CACdlB,EAAE,CAAC,OAAO,CAAE,wBAAwB,CAAC,CACvC,CAAC,CAAC,CACJK,KAAK,WAAIT,OAAO,0BAAiBO,GAAG,SAAGC,MAAM,EAAG,CAC7CK,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,KAAM,IAAIC,MAAK,CAACF,GAAG,CAACG,UAAU,CAAC,CACjC,CACA,MAAOH,IAAG,CAACI,IAAI,EAAE,CACnB,CAAC,CAAC,CACDL,IAAI,CAAC,SAACO,QAAQ,CAAK,CAClBhB,EAAE,CAAC,eAAe,CAAEgB,QAAQ,CAACA,QAAQ,CAACG,MAAM,CAAC,CAC/C,CAAC,CAAC,CACN"},"metadata":{},"sourceType":"module"}